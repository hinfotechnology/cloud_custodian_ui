{% extends 'manager/base.html' %}

{% block content %}
<div class="main-header">
    <h1>Resource Details</h1>
    <p>Detailed information for {{ service_name }}: {{ resource_id }}</p>
</div>

{% if error %}
<div class="alert alert-danger" role="alert">
    {{ error }}
</div>
{% else %}
<div class="card">
    <div class="card-body">
        <h5 class="card-title">{{ service_name }} Details</h5>
        <table class="table table-bordered">
            <tbody>
                {% for key, value in resource.items %}
                <tr>
                    <th scope="row">{{ key|title }}</th>
                    <td>{{ value }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <div class="mt-3">
            <form action="{% url 'manager:delete_resource' service_name=service_name resource_id=resource_id %}" method="post" style="display: inline;">
                {% csrf_token %}
                <input type="hidden" name="region" value="{{ resource.region }}">
                <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this resource?');">Delete</button>
            </form>
            <form action="{% url 'manager:deactivate_resource' service_name=service_name resource_id=resource_id %}" method="post" style="display: inline;">
                {% csrf_token %}
                <input type="hidden" name="region" value="{{ resource.region }}">
                <button type="submit" class="btn btn-warning" onclick="return confirm('Are you sure you want to deactivate this resource?');">Deactivate</button>
            </form>
        </div>
    </div>
</div>
{% endif %}

<a href="{% url 'manager:aws_services' %}" class="btn btn-secondary mt-3">Back to Services</a>
{% endblock %}
